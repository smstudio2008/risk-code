import{a as f,b as L,c as R,d as v}from"./chunk-OMKCFD6X.js";import{A as m,Aa as u,C as l,Ca as z,D as F,F as h,G as g,L as s,M as P,N as C,O as E,P as O,R as A,S as B,T as i,Ta as d,U as o,V as _,W as y,X as p,Y as j,aa as b,ba as r,ca as k,da as S,ia as H,ja as V,pa as $,qa as Y,w as I,x as w,z as D,za as q}from"./chunk-CORSGRFR.js";var U=(()=>{class e{_router=m(u);_companyFacade=m(d);openResults(t){t&&(this._companyFacade.searchCompanies(t),this._router.navigate(["search-results"],{queryParams:{query:t}}))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=l({type:e,selectors:[["company-risk-risk-search"]],decls:9,vars:1,consts:[["searchTerm",""],[1,"input-container"],["placeholder","Search for a company or number..."],["size","large","type","primary",3,"click","disabled"]],template:function(n,c){if(n&1){let a=y();i(0,"h2"),r(1,` Empowering Decision-Making with Advanced Risk Solutions
`),o(),i(2,"p"),r(3,` Risk provides customers with information-based analytics and decision tools that combine public and industry-specific content with advanced technology and algorithms to assist them in evaluating and predicting risk and enhancing operational efficiency
`),o(),i(4,"div",1),_(5,"company-ui-lib-input",2,0),i(7,"company-ui-lib-button",3),p("click",function(){h(a);let M=b(6);return g(c.openResults(M==null?null:M.value))}),r(8," Search "),o()()}if(n&2){let a=b(6);s(7),C("disabled",!(a!=null&&a.value))}},dependencies:[f,L],styles:["[_nghost-%COMP%]{margin:5% auto;width:60%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding-top:2rem}"]})}return e})();function X(e,T){if(e&1){let t=y();i(0,"company-ui-lib-card",1),p("click",function(){let c=h(t).$implicit,a=j(2);return g(a.openDetails(c.company_number))}),i(1,"h3"),r(2),o(),i(3,"p"),r(4),o(),i(5,"p"),r(6),o()()}if(e&2){let t=T.$implicit;s(2),k(t==null?null:t.title),s(2),k(t==null?null:t.description),s(2),k(t==null?null:t.address_snippet)}}function Z(e,T){if(e&1&&(i(0,"h1"),r(1),o(),i(2,"div",0),A(3,X,7,3,"company-ui-lib-card",null,O),o()),e&2){let t=T;s(),S("Search Results: Total ",t==null?null:t.total_results,""),s(2),B(t==null?null:t.items)}}var G=(()=>{class e{_router=m(u);_companyFacade=m(d);companies$=this._companyFacade.companies$;openDetails(t){this._companyFacade.getSelectedCompany(t),this._router.navigate([`company/details/${t}`])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=l({type:e,selectors:[["company-risk-risk-search-result"]],decls:2,vars:3,consts:[[1,"cards"],[3,"click"]],template:function(n,c){if(n&1&&(P(0,Z,5,1),H(1,"async")),n&2){let a;E((a=V(1,1,c.companies$))?0:-1,a)}},dependencies:[R,$],styles:["[_nghost-%COMP%]{padding:0rem 1rem}[_nghost-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-direction:column;width:90%}"],changeDetection:0})}return e})();var N=(()=>{class e{buttonTitle="Sign In";ngOnInit(){this.updateButtonTitle()}handleSignInClick(){sessionStorage.getItem("userToken")?alert("You are already logged in."):(alert("You are not logged in. Please log in."),sessionStorage.setItem("userToken","example-token"),this.updateButtonTitle())}updateButtonTitle(){sessionStorage.getItem("userToken")?this.buttonTitle="Sign Out":this.buttonTitle="Sign In"}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=l({type:e,selectors:[["company-risk-risk-search-home"]],decls:4,vars:4,consts:[[3,"title","logoUrl","showLogo"],["size","large","type","link",3,"click"]],template:function(n,c){n&1&&(i(0,"company-ui-lib-header",0)(1,"company-ui-lib-button",1),p("click",function(){return c.handleSignInClick()}),r(2),o()(),_(3,"router-outlet")),n&2&&(C("title","Risk Management App")("logoUrl","assets/images/logo-v2.png")("showLogo",!0),s(2),S(" ",c.buttonTitle," "))},dependencies:[q,v,f],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh;width:100%}"],changeDetection:0})}return e})();var J=(()=>{class e{router;constructor(t){this.router=t}canActivate(){return!sessionStorage.getItem("userToken")?(alert("You are not logged in. Please log in to access this page."),!1):!0}static \u0275fac=function(n){return new(n||e)(D(u))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var K=[{path:"",component:N,children:[{path:"",redirectTo:"search",pathMatch:"full"},{path:"search",component:U},{path:"search-results",component:G},{path:"company",loadChildren:()=>import("./chunk-IZSH2T25.js").then(e=>e.CompanySearchDetailsModule),canActivate:[J]}]},{path:"**",redirectTo:"search"}];var Ae=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=F({type:e});static \u0275inj=w({providers:[d],imports:[Y,z.forChild(K),v,f,R]})}return e})();export{Ae as CompanySearchRiskModule};
